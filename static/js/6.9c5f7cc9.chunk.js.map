{"version":3,"sources":["pages/RegExpPage/index.tsx","components/VisualRegExp.tsx","hooks/useRegulex.ts","components/CodeBlock.tsx","components/CopyAction.tsx","components/OutLink.tsx","pages/RegExpPage/RegExpChips.tsx","pages/RegExpPage/RegExpTestPanel.tsx","pages/RegExpPage/RegExpMatchPanel.tsx","hooks/useQuery.ts"],"names":["Language","TabIndex","useStyles","makeStyles","theme","regexpContainer","width","overflow","textAlign","error","color","VisualRegExp","regexp","boxProps","containerRef","useRef","styles","regulex","useAsync","a","Promise","resolve","reject","script","document","createElement","src","process","onload","window","require","onerror","Error","body","appendChild","value","useState","setError","useEffect","current","innerHTML","parse","visualize","paper","Raphael","source","flags","undefined","err","_err","RegexSyntaxError","msg","message","lastIndex","push","repeat","join","Box","Typography","className","component","ref","style","height","CodeBlock","code","language","defaultProps","githubTheme","tokens","getLineProps","getTokenProps","lineHeight","py","px","margin","map","line","i","key","token","CopyAction","text","enqueueSnackbar","useSnackbar","display","root","onCopy","autoHideDuration","Tooltip","title","placement","IconButton","FileCopyOutlined","OutLink","href","target","OpenInNew","RegExpChips","onSelect","flexWrap","tags","REG_EXP_ARR","label","Chip","variant","onClick","marginRight","spacing","marginBottom","RegExpTestPanel","setText","useMemo","result1","result2","error1","error2","RegExp","test","search","escapedText","replace","code1","code2","console","log","flexDirection","TextField","multiline","fullWidth","onChange","e","mt","alignItems","bgcolor","flexGrow","String","supportMatchAll","prototype","RegExpMatchPanel","result3","error3","exec","match","matchAll","code3","stringifyRegExpExecArray","stringifyRegExpMatchArray","stringifyRegExpMatchAllResult","result","JSON","stringify","str","forEach","index","input","groups","length","item","next","done","regexpInput","fontSize","fontFamily","codeFontFamily","expand","transform","transition","transitions","create","duration","shortest","expandOpen","NameValue","name","whiteSpace","wordBreak","TabPanel","children","id","props","pt","RegExpReplacePanel","newValue","onNewValueChange","jsRegExp","newSubText","matches","substring","group","n","flagItems","flag","useRegExp","useLocation","pathname","history","useHistory","searchParams","URLSearchParams","query","useCallback","toString","useQuery","setQuery","RegExpPage","TEST","tabIndex","setTabIndex","setRegexp","newText","setNewText","useTheme","useMediaQuery","breakpoints","down","expanded","setExpanded","JavaScript","setLanguage","separator","pb","MATCH","REPLACE","PageLayout","xs","md","flexBasis","Input","startAdornment","placeholder","newFlags","split","includes","FormControlLabel","control","Checkbox","checked","_","onFlagChange","justifyContent","mr","Tabs","textColor","indicatorColor","Tab","COMMONLY_USED_REGEXP","my","Card","CardContent","CardActions","ml","Select","MenuItem","Button","marginLeft","endIcon","ExpandMore","clsx","Collapse","in"],"mappings":"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","file":"static/js/6.9c5f7cc9.chunk.js","sourcesContent":["import React, { useState, useMemo, useCallback } from \"react\";\nimport PageLayout from \"layout/PageLayout\";\nimport {\n  Select,\n  TextField,\n  Input,\n  Box,\n  Tabs,\n  Tab,\n  useMediaQuery,\n  Checkbox,\n  FormControlLabel,\n  CardContent,\n  CardActions,\n  Card,\n  Collapse,\n  Button,\n  MenuItem,\n} from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { useQuery } from \"hooks\";\nimport { debugErr } from \"utils\";\nimport {\n  ExpandMore,\n} from \"@material-ui/icons\";\nimport clsx from \"clsx\";\nimport { VisualRegExp, RegExpType, CodeBlock, CopyAction, OutLink } from \"components\";\nimport { RegExpChips } from \"./RegExpChips\";\nimport { RegExpTestPanel } from \"./RegExpTestPanel\";\nimport {RegExpMatchPanel} from './RegExpMatchPanel'\n\ndeclare module \"@material-ui/core/styles/createMuiTheme\" {\n  interface Theme {\n    codeFontFamily: string;\n  }\n}\n\nenum Language {\n  JavaScript = \"JavaScript\",\n}\n\nenum TabIndex {\n  TEST,\n  MATCH,\n  REPLACE,\n  COMMONLY_USED_REGEXP,\n}\n\nconst useStyles = makeStyles((theme) => ({\n  regexpInput: {\n    fontSize: \"1.4em\",\n    fontFamily: theme.codeFontFamily,\n  },\n  code: {\n    fontFamily: theme.codeFontFamily,\n  },\n  tags: {\n    \"& > *\": {\n      marginRight: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\",\n  },\n}));\n\ntype PanelProps = {\n  regexp: RegExpType;\n  value: string;\n  onChange: (newValue: string) => void;\n};\n\nconst NameValue: React.FC<{ name: string; value: React.ReactNode }> = ({\n  name,\n  value,\n}) => {\n  const styles = useStyles();\n  return (\n    <Box display=\"flex\" className={styles.code} mt={1}>\n      <Box whiteSpace=\"nowrap\">{name}:&nbsp;</Box>\n      <Box style={{ wordBreak: \"break-all\" }}>{value}</Box>\n    </Box>\n  );\n};\n\nconst TabPanel: React.FC<{ id: number; value: number }> = ({\n  children,\n  id,\n  value,\n  ...props\n}) => {\n  return <Box {...props}>{id === value && <Box pt={3}>{children}</Box>}</Box>;\n};\n\n// const RegExpMatchPanel: React.FC<PanelProps> = ({\n//   regexp,\n//   value,\n//   onChange,\n// }) => {\n//   const isEmpty = !value || !regexp.source;\n//   const matches = useMemo(() => {\n//     if (isEmpty) return null;\n\n//     let jsRegExp;\n//     try {\n//       jsRegExp = new RegExp(regexp.source, regexp.flags);\n//       return jsRegExp.exec(value);\n//     } catch (err) {\n//       debugErr(err);\n//       return null;\n//     }\n//   }, [isEmpty, regexp, value]);\n//   return (\n//     <>\n//       <Box>\n//         <TextField\n//           variant=\"outlined\"\n//           label=\"输入源文本\"\n//           multiline\n//           fullWidth\n//           value={value}\n//           onChange={(e) => onChange(e.target.value)}\n//         />\n//       </Box>\n//       <Box mt={2}>\n//         {isEmpty && <Box color={grey[500]}>--</Box>}\n//         {!isEmpty && matches === null && <Box color={red[500]}>不匹配!</Box>}\n//         {!isEmpty && matches !== null && (\n//           <Box>\n//             <Box color={green[500]}>匹配!</Box>\n//             <Box style={{ overflow: \"auto\" }}>\n//               {matches.map((group, n) => (\n//                 <NameValue name={`分组 #${n}`} value={group} />\n//               ))}\n//             </Box>\n//           </Box>\n//         )}\n//       </Box>\n//     </>\n//   );\n// };\n\ntype RegExpReplacePanelProps = PanelProps & {\n  newValue: string;\n  onNewValueChange: (newValue: string) => void;\n};\nconst RegExpReplacePanel: React.FC<RegExpReplacePanelProps> = ({\n  regexp,\n  value,\n  onChange,\n  newValue,\n  onNewValueChange,\n}) => {\n  const [newSubText, matches] = useMemo(() => {\n    let jsRegExp;\n    try {\n      jsRegExp = new RegExp(regexp.source, regexp.flags);\n    } catch (err) {\n      debugErr(err);\n      return [\"\", null];\n    }\n    const newSubText = value.replace(jsRegExp, newValue);\n    const matches = jsRegExp.exec(value);\n    console.log(\"matches:\", matches);\n    return [newSubText, matches];\n  }, [regexp.flags, regexp.source, newValue, value]);\n  return (\n    <>\n      <Box>\n        <TextField\n          variant=\"outlined\"\n          label=\"输入源文本\"\n          multiline\n          fullWidth\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n        />\n      </Box>\n      {matches !== null && (\n        <Box mt={2}>\n          <NameValue name=\"$$\" value=\"$\" />\n          <NameValue name=\"$&\" value={matches[0]} />\n          <NameValue\n            name=\"$`\"\n            value={matches.input.substring(0, matches.index)}\n          />\n          <NameValue\n            name=\"$'\"\n            value={matches.input.substring(matches.index + matches[0].length)}\n          />\n          {matches.map((group, n) =>\n            n >= 1 ? <NameValue name={\"$\" + n} value={group} /> : null\n          )}\n        </Box>\n      )}\n      <Box mt={2}>\n        <TextField\n          variant=\"outlined\"\n          label=\"输入替换文本\"\n          multiline\n          fullWidth\n          value={newValue}\n          onChange={(e) => onNewValueChange(e.target.value)}\n        />\n      </Box>\n      <Box mt={2}>\n        <Box>{newSubText}</Box>\n      </Box>\n    </>\n  );\n};\n\nconst flagItems = [\n  {\n    flag: \"g\",\n    label: \"全局匹配\",\n  },\n  {\n    flag: \"i\",\n    label: \"忽略大小写\",\n  },\n  {\n    flag: \"m\",\n    label: \"多行匹配\",\n  },\n] as const;\n\nconst useRegExp = () => {\n  const [query, setQuery] = useQuery();\n  const source = query.source || \"\";\n  const flags = query.flags || \"\";\n  const regexp: RegExpType = { source, flags };\n  const setRegExp = useCallback(\n    (regexp: RegExpType) => {\n      setQuery(regexp);\n    },\n    [setQuery]\n  );\n  return [regexp, setRegExp] as const;\n};\n\nconst RegExpPage: React.FC = () => {\n  const styles = useStyles();\n  const [tabIndex, setTabIndex] = useState(TabIndex.TEST);\n  const [regexp, setRegexp] = useRegExp();\n  const [text, setText] = useState(\"\");\n  const [newText, setNewText] = useState(\"\");\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.down(\"sm\"));\n  const [expanded, setExpanded] = useState(false);\n  const [language, setLanguage] = useState(Language.JavaScript);\n\n  // 单个标志位变化\n  const onFlagChange = (flag: \"g\" | \"i\" | \"m\", checked: boolean) => {\n    let newFlags = regexp.flags.replace(new RegExp(flag, \"g\"), \"\");\n    newFlags += checked ? flag : \"\";\n    setRegexp({ ...regexp, flags: newFlags });\n  };\n\n  // 一组标志位变化\n  const onFlagsChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\n    let newFlags = e.target.value;\n    // 去除无效标志位\n    newFlags = newFlags.replace(/[^gim]/, \"\");\n    // 去重\n    \"gim\".split(\"\").forEach((flag) => {\n      if (newFlags.includes(flag)) {\n        newFlags = newFlags.replace(new RegExp(flag, \"g\"), \"\") + flag;\n      }\n    });\n    setRegexp({ ...regexp, flags: newFlags });\n  };\n\n  const separator = (\n    <Box pt=\"6px\" pb=\"7px\" color=\"primary.main\">\n      /\n    </Box>\n  );\n\n  const code = useMemo(() => {\n    let code = \"\";\n    if (!expanded) return code;\n    if (tabIndex === TabIndex.TEST) {\n      code = `const str = \"${text}\";\n/${regexp.source}/${regexp.flags}.test(str)`;\n    } else if (tabIndex === TabIndex.MATCH) {\n      code = `const str = \"${text}\";\n/${regexp.source}/${regexp.flags}.exec(str)`;\n    } else if (tabIndex === TabIndex.REPLACE) {\n      code = `const str = \"${text}\";\nstr.replace(/${regexp.source}/${regexp.flags}, \"${newText}\")`;\n    }\n    return code;\n  }, [expanded, newText, regexp, tabIndex, text]);\n  return (\n    <PageLayout title=\"正则表达式\">\n      <Box display=\"flex\" flexDirection=\"column\">\n        <Box display=\"flex\">\n          <Box flexGrow={{ xs: 2, md: 4 }} flexBasis={0}>\n            <Input\n              className={styles.regexpInput}\n              startAdornment={separator}\n              placeholder=\"pattern\"\n              fullWidth\n              value={regexp.source}\n              onChange={(e) => setRegexp({ ...regexp, source: e.target.value })}\n            />\n          </Box>\n          <Box flexGrow={{ xs: 1, md: 1 }} flexBasis={0}>\n            <Input\n              className={styles.regexpInput}\n              startAdornment={separator}\n              placeholder=\"flags\"\n              fullWidth\n              value={regexp.flags}\n              onChange={onFlagsChange}\n            />\n          </Box>\n        </Box>\n\n        <Box display=\"flex\" mt={1} flexWrap=\"wrap\">\n          {flagItems.map((item) => (\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={regexp.flags.includes(item.flag)}\n                  onChange={(_, checked) => onFlagChange(item.flag, checked)}\n                  color=\"primary\"\n                />\n              }\n              label={item.label}\n            />\n          ))}\n          <Box\n            flexGrow={1}\n            display=\"flex\"\n            justifyContent=\"flex-end\"\n            alignItems=\"center\"\n            mr={1}\n          >\n          <OutLink title='Regular expressions - MDN' href={'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions'} />\n          <CopyAction text={`/${regexp.source}/${regexp.flags}`} />\n          </Box>\n        </Box>\n\n        <Box mt={1}>\n          <VisualRegExp regexp={regexp} />\n          {/* <Tooltip title=\"分享\" arrow placement=\"top\">\n            <CopyToClipboard\n              text={href || \"\"}\n              onCopy={() =>\n                enqueueSnackbar(\n                  <span>\n                    <a\n                      href={href}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      style={{ color: \"white\" }}\n                    >\n                      {href}\n                    </a>{\" \"}\n                    已复制，快去分享吧！\n                  </span>\n                )\n              }\n            >\n              <IconButton>\n                <Share />\n              </IconButton>\n            </CopyToClipboard>\n          </Tooltip> */}\n        </Box>\n\n        <Box mt={2}>\n          <Tabs\n            value={tabIndex}\n            onChange={(_, value) => setTabIndex(value as number)}\n            textColor=\"primary\"\n            indicatorColor=\"primary\"\n            variant={matches ? \"fullWidth\" : \"standard\"}\n          >\n            <Tab label=\"测试\"></Tab>\n            <Tab label=\"匹配\"></Tab>\n            <Tab label=\"替换\"></Tab>\n            <Tab label=\"常用正则\"></Tab>\n          </Tabs>\n          <TabPanel id={TabIndex.TEST} value={tabIndex}>\n            <RegExpTestPanel source={regexp.source} flags={regexp.flags} />\n          </TabPanel>\n          <TabPanel id={TabIndex.MATCH} value={tabIndex}>\n            <RegExpMatchPanel source={regexp.source} flags={regexp.flags} />\n            {/* <RegExpMatchPanel regexp={regexp} value={text} onChange={setText} /> */}\n          </TabPanel>\n          <TabPanel id={TabIndex.REPLACE} value={tabIndex}>\n            <RegExpReplacePanel\n              regexp={regexp}\n              value={text}\n              onChange={setText}\n              newValue={newText}\n              onNewValueChange={setNewText}\n            />\n          </TabPanel>\n          <TabPanel id={TabIndex.COMMONLY_USED_REGEXP} value={tabIndex}>\n            <RegExpChips onSelect={(regexp) => setRegexp(regexp)} />\n          </TabPanel>\n        </Box>\n      </Box>\n\n      {/* 测试/匹配/替换 */}\n      <Box my={2} display=\"none\">\n        <Card>\n          <CardContent></CardContent>\n          <CardActions>\n            {expanded && (\n              <Box ml={1}>\n                <Select\n                  value={language}\n                  onChange={(e) => setLanguage(e.target.value as Language)}\n                >\n                  <MenuItem value={Language.JavaScript}>JavaScript</MenuItem>\n                </Select>\n              </Box>\n            )}\n            <Button\n              style={{ marginLeft: \"auto\" }}\n              endIcon={\n                <ExpandMore\n                  className={clsx(styles.expand, {\n                    [styles.expandOpen]: expanded,\n                  })}\n                />\n              }\n              onClick={() => setExpanded(!expanded)}\n            >\n              生成代码\n            </Button>\n          </CardActions>\n          {/* 生成代码 */}\n          <Collapse in={expanded}>\n            <CardContent>\n              <CodeBlock code={code} language=\"javascript\" />\n            </CardContent>\n            <CardActions>\n              <CopyAction text={code} />\n            </CardActions>\n          </Collapse>\n        </Card>\n      </Box>\n    </PageLayout>\n  );\n};\n\nexport default RegExpPage;\n","import React, { useRef, useState, useEffect } from 'react'\r\nimport { useRegulex } from 'hooks';\r\nimport { debugErr } from 'utils';\r\nimport { Typography, BoxProps, Box } from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  regexpContainer: {\r\n    width: \"100%\",\r\n    overflow: \"auto\",\r\n    textAlign: \"center\"\r\n  },\r\n  error: {\r\n    width: \"100%\",\r\n    color: \"red\",\r\n    overflow: \"auto\"\r\n  }\r\n}));\r\n\r\nexport type RegExpType = {\r\n  source: string;\r\n  flags: string;\r\n};\r\n\r\nexport type VisualRegExpProps = {\r\n  regexp: RegExpType\r\n} & BoxProps\r\n\r\nexport const VisualRegExp: React.FC<VisualRegExpProps> = ({ regexp, ...boxProps}) => {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const styles = useStyles();\r\n  const { value: regulex } = useRegulex();\r\n  const [error, setError] = useState<Error>();\r\n  useEffect(() => {\r\n    if (!regulex || !containerRef.current) return;\r\n\r\n    // 清除生成的图片\r\n    containerRef.current.innerHTML = \"\";\r\n\r\n    const { parse, visualize, Raphael } = regulex;\r\n    var paper = Raphael(containerRef.current, 0, 0);\r\n    try {\r\n      // 重新生成图片\r\n      visualize(parse(regexp.source), regexp.flags, paper);\r\n      // 重置错误\r\n      setError(undefined);\r\n    } catch (err) {\r\n      let _err = err;\r\n      // 如果是语法错误，格式化错误\r\n      if (err instanceof parse.RegexSyntaxError) {\r\n        var msg = [\"Error:\" + err.message, \"\"];\r\n        if (typeof err.lastIndex === \"number\") {\r\n          msg.push(regexp.source);\r\n          msg.push(\"-\".repeat(err.lastIndex) + \"^\");\r\n        }\r\n        _err = new Error(msg.join(\"\\n\"));\r\n      }\r\n      setError(_err);\r\n      debugErr(_err);\r\n    }\r\n  }, [regexp, regulex]);\r\n  return (\r\n    <Box {...boxProps}>\r\n      {error && (\r\n        <Typography className={styles.error} component=\"pre\">\r\n          <code>{error.message}</code>\r\n        </Typography>\r\n      )}\r\n      <div\r\n        ref={containerRef}\r\n        className={styles.regexpContainer}\r\n        style={{ height: error ? 0 : \"auto\" }}\r\n      />\r\n    </Box>\r\n  );\r\n};","import { useAsync } from \"react-use\";\n\nexport default function useRegulex() {\n  return useAsync(async () => {\n    return new Promise<any>((resolve, reject) => {\n      const script = document.createElement(\"script\");\n      script.src = process.env.PUBLIC_URL + \"/regulex.js\";\n      script.onload = () => {\n        const regulex = window.require(\"regulex\");\n        resolve(regulex);\n      };\n      script.onerror = () => {\n        reject(new Error(\"load regulex error!\"));\n      };\n      document.body.appendChild(script);\n    });\n  });\n}\n","import React from \"react\";\nimport Highlight, { defaultProps } from \"prism-react-renderer\";\nimport githubTheme from \"prism-react-renderer/themes/github\";\nimport { Box } from \"@material-ui/core\";\n\nexport type Language =\n  | \"markup\"\n  | \"bash\"\n  | \"clike\"\n  | \"c\"\n  | \"cpp\"\n  | \"css\"\n  | \"javascript\"\n  | \"jsx\"\n  | \"coffeescript\"\n  | \"actionscript\"\n  | \"css-extr\"\n  | \"diff\"\n  | \"git\"\n  | \"go\"\n  | \"graphql\"\n  | \"handlebars\"\n  | \"json\"\n  | \"less\"\n  | \"makefile\"\n  | \"markdown\"\n  | \"objectivec\"\n  | \"ocaml\"\n  | \"python\"\n  | \"reason\"\n  | \"sass\"\n  | \"scss\"\n  | \"sql\"\n  | \"stylus\"\n  | \"tsx\"\n  | \"typescript\"\n  | \"wasm\"\n  | \"yaml\";\n\nexport type CodeBlockProps = {\n  code: string;\n  language: Language;\n};\n\nexport const CodeBlock: React.FC<CodeBlockProps> = ({ code, language }) => {\n  return (\n    <Highlight\n      {...defaultProps}\n      code={code}\n      language={language}\n      theme={githubTheme}\n    >\n      {({ className, style, tokens, getLineProps, getTokenProps }) => (\n        <Box\n          component=\"pre\"\n          lineHeight={1.5}\n          py={1}\n          px={1}\n          className={className}\n          style={{...style, margin: 0}}\n        >\n          <Box component=\"code\">\n            {tokens.map((line, i) => (\n              <div {...getLineProps({ line, key: i })}>\n                {line.map((token, key) => (\n                  <span {...getTokenProps({ token, key })} />\n                ))}\n              </div>\n            ))}\n          </Box>\n        </Box>\n      )}\n    </Highlight>\n  );\n};\n","import React from \"react\";\r\nimport { Box, Tooltip, IconButton } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CopyToClipboard from \"react-copy-to-clipboard\";\r\nimport { FileCopyOutlined } from \"@material-ui/icons\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nexport type CopyActionProps = {\r\n  text: string\r\n};\r\n\r\nexport const CopyAction: React.FC<CopyActionProps> = ({text}) => {\r\n  const styles = useStyles();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  return (\r\n    <Box display=\"flex\" className={styles.root}>\r\n      <CopyToClipboard\r\n        text={text}\r\n        onCopy={() => enqueueSnackbar(\"已复制!\", { autoHideDuration: 1500 })}\r\n      >\r\n        <Tooltip title=\"复制\" placement=\"top\">\r\n          <IconButton>\r\n            <FileCopyOutlined />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </CopyToClipboard>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n}));\r\n","import React from \"react\";\r\nimport { Tooltip, IconButton } from \"@material-ui/core\";\r\nimport { OpenInNew } from \"@material-ui/icons\";\r\n\r\nexport type OutLinkProps = {\r\n  href: string;\r\n  title?: Exclude<React.ReactNode, null | undefined>;\r\n};\r\n\r\nexport const OutLink: React.FC<OutLinkProps> = ({ href, title = \"\" }) => {\r\n  return (\r\n    <Tooltip title={title}>\r\n      <IconButton component=\"a\" href={href} target=\"_blank\">\r\n        <OpenInNew />\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n};\r\n","import React from 'react'\nimport {Box, Chip} from '@material-ui/core'\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nexport type RegExpChipsProps = {\n  onSelect?: (data: {source: string, flags: string}) => void\n}\n\nexport const RegExpChips: React.FC<RegExpChipsProps> = ({onSelect}) => {\n  const styles = useStyles()\n  return (\n    <Box display=\"flex\" flexWrap=\"wrap\" className={styles.tags}>\n      {REG_EXP_ARR.map(({ label, source }) => (\n        <Chip\n          key={label}\n          variant=\"outlined\"\n          label={label}\n          onClick={() => onSelect?.({ source, flags: \"\" })}\n        />\n      ))}\n    </Box>\n  );\n};\n\nconst useStyles = makeStyles(theme => ({\n  tags: {\n    \"& > *\": {\n      marginRight: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n  },\n}))\n\nconst REG_EXP_ARR = [\n  {\n    label: \"身份证号\",\n    source: /^\\d{17}[0-9Xx]|\\d{15}$/.source,\n  },\n  {\n    label: \"Email地址\",\n    source: /^\\w[-\\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\\.)+[A-Za-z]{2,14}$/.source,\n  },\n  {\n    label: \"中文字符\",\n    source: /^[\\u4e00-\\u9fa5]+$/.source,\n  },\n  {\n    label: \"双字节字符(含汉字)\",\n    // eslint-disable-next-line no-control-regex\n    source: /^[^\\x00-\\xff]+$/.source,\n  },\n  {\n    label: \"时间(时:分:秒)\",\n    source: /^([01]?\\d|2[0-3]):[0-5]?\\d:[0-5]?\\d$/.source,\n  },\n  {\n    label: \"日期(年:月:日)\",\n    source: /^(([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29)$/\n      .source,\n  },\n  {\n    label: \"IPv4地址\",\n    source: /^\\d{0,3}\\.\\d{0,3}\\.\\d{0,3}\\.\\d{0,3}$/.source,\n  },\n  {\n    label: \"手机号\",\n    source: /^(13\\d|14[579]|15[^4\\D]|17[^49\\D]|18\\d)\\d{8}$/.source,\n  },\n];\n","import React, { useMemo, useState, useEffect } from 'react'\nimport { Box, TextField, Typography } from '@material-ui/core'\nimport { CodeBlock, CopyAction, OutLink } from 'components'\n\nexport type RegExpTestPanelProps = {\n  source: string\n  flags?: string\n}\n\nexport const RegExpTestPanel: React.FC<RegExpTestPanelProps> = ({ source, flags }) => {\n  const [text, setText] = useState('')\n  const { code1, result1, error1, code2, result2, error2 } = useMemo(() => {\n    let regexp, result1, result2, error1, error2\n    try {\n      regexp = new RegExp(source, flags)\n      result1 = regexp.test(text)\n      result2 = text.search(regexp)\n    } catch (error) {\n      regexp = `/${source}/${flags}`\n      error1 = error2 = error as Error\n    }\n    // 无论构建正则是否抛出异常，源码都要正确显示\n    const escapedText = text.replace(/'/g, \"\\\\'\")\n    const code1 = `const result = ${regexp}.test('${escapedText}')`\n    const code2 = `const result = '${escapedText}'.search(${regexp})`\n    return { code1, result1, error1, code2, result2, error2 }\n  }, [flags, source, text])\n\n  // 输出到控制台\n  useEffect(() => {\n    console.log(code1)\n    console.log(result1)\n    console.log(code2)\n    console.log(result2)\n  }, [code1, code2, result1, result2])\n\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\">\n      <Box>\n        <TextField\n          variant=\"outlined\"\n          label=\"输入源文本\"\n          multiline\n          fullWidth\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n        />\n      </Box>\n      <Box overflow=\"auto\">\n        <Box mt={2} display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" bgcolor=\"rgb(246, 248, 250)\">\n          <Box flexGrow={1}>\n            <CodeBlock code={`${code1!}`} language=\"javascript\" />\n          </Box>\n          <Box display=\"flex\">\n            <OutLink\n              title=\"RegExp.prototype.test() - MDN\"\n              href={\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test'\n              }\n            />\n            <CopyAction text={code1!} />\n          </Box>\n        </Box>\n        <Box>\n          {error1 ? (\n            <Typography color=\"error\">{String(error1)}</Typography>\n          ) : (\n            <CodeBlock code={'// result\\n' + result1} language=\"javascript\" />\n          )}\n        </Box>\n        <Box mt={2} display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" bgcolor=\"rgb(246, 248, 250)\">\n          <Box flexGrow={1}>\n            <CodeBlock code={`${code2!}`} language=\"javascript\" />\n          </Box>\n          <Box display=\"flex\">\n            <OutLink\n              title=\"String.prototype.search() - MDN\"\n              href={\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/search'\n              }\n            />\n            <CopyAction text={code2!} />\n          </Box>\n        </Box>\n        <Box>\n          {error2 ? (\n            <Typography color=\"error\">{String(error2)}</Typography>\n          ) : (\n            <CodeBlock code={'// result\\n' + result2} language=\"javascript\" />\n          )}\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n","import React, { useMemo, useState, useEffect } from 'react'\r\nimport { Box, TextField, Typography } from '@material-ui/core'\r\nimport { CodeBlock, CopyAction, OutLink } from 'components'\r\n\r\nexport type RegExpMatchPanelProps = {\r\n  source: string\r\n  flags?: string\r\n}\r\n\r\nconst supportMatchAll = 'matchAll' in String.prototype\r\n\r\nexport const RegExpMatchPanel: React.FC<RegExpMatchPanelProps> = ({ source, flags }) => {\r\n  const [text, setText] = useState('')\r\n  const { code1, result1, error1, code2, result2, error2, code3, result3, error3 } = useMemo(() => {\r\n    let regexp, result1, result2, result3, error1, error2, error3\r\n    try {\r\n      // 抛出异常情况：\r\n      // 1. 正则表达式不合法\r\n      regexp = new RegExp(source, flags)\r\n    } catch (error) {\r\n      regexp = (`/${source}/${flags}` as any) as RegExp\r\n      error1 = error2 = error3 = error as Error\r\n    }\r\n\r\n    if (!error1) {\r\n      result1 = regexp.exec(text)\r\n      result2 = text.match(regexp)\r\n      try {\r\n        // 抛出异常的情况：\r\n        // 1. 浏览器不支持 matchAll 时抛异常\r\n        // 2. 正则的 g 标志位未设置时抛异常\r\n        result3 = text.matchAll(regexp)\r\n      } catch (error) {\r\n        error3 = error as Error\r\n      }\r\n    }\r\n    const escapedText = text.replace(/'/g, \"\\\\'\")\r\n    const code1 = `const result = ${regexp}.exec('${escapedText}')`\r\n    const code2 = `const result = '${escapedText}'.match(${regexp})`\r\n    const code3 = `const result ='${escapedText}'.matchAll(${regexp})`\r\n\r\n    return { code1, result1, error1, code2, result2, error2, code3, result3, error3 }\r\n  }, [flags, source, text])\r\n\r\n  // 输出到控制台\r\n  useEffect(() => {\r\n    console.log(code1)\r\n    console.log(result1)\r\n    console.log(code2)\r\n    console.log(result2)\r\n    console.log(code3)\r\n    console.log(result3)\r\n  }, [code1, code2, code3, result1, result2, result3])\r\n\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"column\">\r\n      <Box>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"输入待匹配文本\"\r\n          multiline\r\n          fullWidth\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n        />\r\n      </Box>\r\n      <Box overflow=\"auto\">\r\n        <Box mt={2} display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" bgcolor=\"rgb(246, 248, 250)\">\r\n          <Box flexGrow={1}>\r\n            <CodeBlock code={`${code1!}`} language=\"javascript\" />\r\n          </Box>\r\n          <Box display=\"flex\">\r\n            <OutLink\r\n              title=\"RegExp.prototype.exec() - MDN\"\r\n              href={\r\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec'\r\n              }\r\n            />\r\n            <CopyAction text={code1!} />\r\n          </Box>\r\n        </Box>\r\n        <Box>\r\n          {error1 ? (\r\n            <Typography color=\"error\">{String(error1)}</Typography>\r\n          ) : (\r\n            <CodeBlock\r\n              code={'// result\\n' + stringifyRegExpExecArray(result1)}\r\n              language=\"javascript\"\r\n            />\r\n          )}\r\n        </Box>\r\n        <Box mt={2} display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" bgcolor=\"rgb(246, 248, 250)\">\r\n          <Box flexGrow={1}>\r\n            <CodeBlock code={`${code2!}`} language=\"javascript\" />\r\n          </Box>\r\n          <Box display=\"flex\">\r\n            <OutLink\r\n              title=\"String.prototype.match() - MDN\"\r\n              href={\r\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match'\r\n              }\r\n            />\r\n            <CopyAction text={code2!} />\r\n          </Box>\r\n        </Box>\r\n        <Box>\r\n          {error2 ? (\r\n            <Typography color=\"error\">{String(error2)}</Typography>\r\n          ) : (\r\n            <CodeBlock\r\n              code={'// result\\n' + stringifyRegExpMatchArray(result2)}\r\n              language=\"javascript\"\r\n            />\r\n          )}\r\n        </Box>\r\n        {supportMatchAll && (\r\n          <>\r\n            <Box\r\n              mt={2}\r\n              display=\"flex\"\r\n              alignItems=\"center\"\r\n              flexWrap=\"wrap\"\r\n              bgcolor=\"rgb(246, 248, 250)\"\r\n            >\r\n              <Box flexGrow={1}>\r\n                <CodeBlock code={`${code3!}`} language=\"javascript\" />\r\n              </Box>\r\n              <Box display=\"flex\">\r\n                <OutLink\r\n                  title=\"String.prototype.matchAll() - MDN\"\r\n                  href={\r\n                    'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll'\r\n                  }\r\n                />\r\n                <CopyAction text={code3!} />\r\n              </Box>\r\n            </Box>\r\n            <Box>\r\n              {error3 ? (\r\n                <Typography color=\"error\">{String(error3)}</Typography>\r\n              ) : (\r\n                <CodeBlock code={stringifyRegExpMatchAllResult(result3!)} language=\"javascript\" />\r\n              )}\r\n            </Box>\r\n          </>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nfunction stringifyRegExpExecArray(result: RegExpExecArray | null | undefined): string {\r\n  if (!result) return JSON.stringify(result)\r\n  let str = '['\r\n  result.forEach((value, index) => (str += `\\n  ${index}: ${JSON.stringify(value)},`))\r\n  str += `\\n  index: ${JSON.stringify(result.index)}`\r\n  str += `\\n  input: ${JSON.stringify(result.input)}`\r\n  str += `\\n  groups: ${JSON.stringify(result.groups, null, 2)?.replace(/\\n/g, '\\n  ')},`\r\n  str += `\\n  length: ${JSON.stringify(result.length)}`\r\n  str += `\\n]`\r\n  return str\r\n}\r\n\r\nfunction stringifyRegExpMatchArray(result: RegExpMatchArray | null | undefined): string {\r\n  if (!result || 'index' in result) {\r\n    return stringifyRegExpExecArray(result as RegExpExecArray)\r\n  } else {\r\n    return JSON.stringify(result)\r\n  }\r\n}\r\n\r\nfunction stringifyRegExpMatchAllResult(result: IterableIterator<RegExpMatchArray>): string {\r\n  let str = ''\r\n  let item: IteratorResult<RegExpMatchArray, undefined>\r\n  do {\r\n    item = result.next()\r\n    str += `// result.next()\\n`\r\n    str += `{\r\n  value: ${stringifyRegExpMatchArray(item.value)?.replace(/\\n/g, '\\n  ')},\r\n  done: ${item.done}\r\n}\\n`\r\n  } while (!item.done)\r\n  return str\r\n}\r\n","import { useLocation, useHistory } from \"react-router-dom\";\nimport { useCallback } from \"react\";\n\n/**\n * 获取 URL 查询参数\n * 例如 regexp?source=abc&flags=g 返回查询参数 {source: \"abc\", flags: \"g\"}\n */\nexport const useQuery = () => {\n  const {pathname, search} = useLocation();\n  const history = useHistory();\n  const searchParams = new URLSearchParams(search);\n  const query: Record<string, string> = {}\n  for(let [key, value] of searchParams) {\n    query[key] = value\n  }\n  const setQuery = useCallback(\n    (query: Record<string, string>) => {\n      const search = new URLSearchParams(query).toString();\n      history.replace({ pathname, search });\n    },\n    [history, pathname]\n  );\n\n  return [query, setQuery] as const;\n};"],"sourceRoot":""}