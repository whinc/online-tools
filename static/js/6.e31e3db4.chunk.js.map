{"version":3,"sources":["hooks/useQuery.ts","utils/index.ts","components/VisualRegExp.tsx","hooks/useRegulex.ts","components/CodeBlock.tsx","components/CopyAction.tsx","components/OutLink.tsx","pages/RegExpPage/RegExpChips.tsx","pages/RegExpPage/RegExpTestPanel.tsx","pages/RegExpPage/RegExpMatchPanel.tsx","pages/RegExpPage/index.tsx","pages/RegExpPage/RegExpReplacePanel.tsx"],"names":["useQuery","useLocation","pathname","search","history","useHistory","searchParams","URLSearchParams","query","key","value","useCallback","toString","replace","escapeQuote","str","quote","RegExp","escapeStr","match","unescapeStr","useStyles","makeStyles","theme","regexpContainer","width","overflow","textAlign","error","color","VisualRegExp","regexp","boxProps","containerRef","useRef","styles","regulex","useAsync","a","Promise","resolve","reject","script","document","createElement","src","process","onload","window","require","onerror","Error","body","appendChild","useState","setError","useEffect","current","innerHTML","parse","visualize","paper","Raphael","source","flags","undefined","err","_err","RegexSyntaxError","msg","message","lastIndex","push","repeat","join","Box","Typography","className","component","ref","style","height","CodeBlock","code","language","children","defaultProps","Array","isArray","githubTheme","tokens","getLineProps","getTokenProps","lineHeight","py","px","margin","map","line","i","token","CopyAction","text","enqueueSnackbar","useSnackbar","display","root","onCopy","autoHideDuration","Tooltip","title","IconButton","FileCopyOutlined","OutLink","href","target","OpenInNew","RegExpChips","onSelect","flexWrap","tags","REG_EXP_ARR","label","Chip","variant","onClick","marginRight","spacing","marginBottom","RegExpTestPanel","escape","setText","useMemo","result1","result2","error1","error2","_text","test","escapedText","code1","code2","console","log","flexDirection","TextField","multiline","fullWidth","onChange","e","mt","alignItems","justifyContent","bgcolor","flexGrow","String","supportMatchAll","prototype","RegExpMatchPanel","result3","error3","exec","matchAll","code3","stringifyRegExpExecArray","stringifyRegExpMatchArray","stringifyRegExpMatchAllResult","result","JSON","stringify","forEach","index","input","groups","length","item","next","done","Language","TabIndex","RegExpReplacePanel","replacer","setReplacer","isReplacerInfoVisible","setIsReplacerInfoVisible","isReplacerStr","setIsReplaceStr","matches","replacerLiteral","global","_replacer","argsLiteral","filter","v","reduce","b","n","indent","Function","placeholder","FormLabel","FormControlLabel","control","Switch","checked","_","Table","size","TableHead","TableRow","TableCell","TableBody","substring","patterns","Object","keys","record","isNumber","regexpInput","fontSize","fontFamily","codeFontFamily","expand","transform","transition","transitions","create","duration","shortest","expandOpen","TabPanel","id","props","pt","flagItems","flag","RegExpPage","defaultValue","TEST","setQuery","tabIndex","parseInt","tab","setTabIndex","useTabIndex","useRegExp","setRegexp","newText","React","anchorEl","setAnchorEl","useTheme","useMediaQuery","breakpoints","down","expanded","setExpanded","JavaScript","setLanguage","setQuote","setEscape","separator","pb","MATCH","REPLACE","PageLayout","xs","md","flexBasis","Input","startAdornment","newFlags","split","includes","Checkbox","onFlagChange","mr","Tabs","textColor","indicatorColor","Tab","currentTarget","Settings","Popper","open","placement","Paper","p","RadioGroup","Radio","COMMONLY_USED_REGEXP","my","Card","CardContent","CardActions","ml","Select","MenuItem","Button","marginLeft","endIcon","ExpandMore","clsx","Collapse","in"],"mappings":"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","file":"static/js/6.e31e3db4.chunk.js","sourcesContent":["import { useLocation, useHistory } from \"react-router-dom\";\nimport { useCallback } from \"react\";\n\n/**\n * 获取 URL 查询参数\n * 例如 regexp?source=abc&flags=g 返回查询参数 {source: \"abc\", flags: \"g\"}\n */\nexport const useQuery = () => {\n  const {pathname, search} = useLocation();\n  const history = useHistory();\n  const searchParams = new URLSearchParams(search);\n  const query: Record<string, string> = {}\n  for(let [key, value] of searchParams) {\n    query[key] = value\n  }\n  const setQuery = useCallback(\n    (query: Record<string, string>) => {\n      const search = new URLSearchParams(query).toString();\n      history.replace({ pathname, search });\n    },\n    [history, pathname]\n  );\n\n  return [query, setQuery] as const;\n};","import { TQuote } from 'pages/RegExpPage/types'\r\n\r\nexport const debugErr = (...args: any[]) =>\r\n  process.env.NODE_ENV !== 'production' && console.error(...args)\r\nexport const debugLog = (...args: any[]) =>\r\n  process.env.NODE_ENV !== 'production' && console.log(...args)\r\nexport const debugWarn = (...args: any[]) =>\r\n  process.env.NODE_ENV !== 'production' && console.warn(...args)\r\n\r\nexport const escapeQuote = (str: string, quote: TQuote) =>str.replace(new RegExp(quote, 'g'), '\\\\' + quote)\r\n\r\n/**\r\n * 转义字符串\r\n * @param str\r\n * @param quote\r\n */\r\nexport const escapeStr = (str: string) => str.replace(/\\n|\\\\/g, (match) => {\r\n    if (match === '\\n') return '\\\\n'\r\n    else if (match === '\\\\') return '\\\\\\\\'\r\n    else return match\r\n  })\r\n\r\n// export const unescapeStr = (str: string) => str.replace('\\\\n', '\\n')\r\nexport const unescapeStr = (str: string) => str.replace(/\\\\\\\\|\\\\n/g, (match) => {\r\n  if (match === '\\\\\\\\') return '\\\\'\r\n  else if (match === '\\\\n') return '\\n'\r\n  else return match\r\n})\r\n\r\n/**\r\n * 复制到剪切板\r\n * @param text\r\n */\r\nexport const copyToClipboard = (text: string): boolean => {\r\n  const textArea = document.createElement('textarea')\r\n\r\n  textArea.style.position = 'fixed'\r\n  textArea.style.visibility = '-10000px'\r\n  textArea.value = text\r\n\r\n  document.body.appendChild(textArea)\r\n  textArea.focus()\r\n  textArea.select()\r\n\r\n  if (!document.execCommand('copy')) {\r\n    console.warn('浏览器不支持 document.execCommand(\"copy\")')\r\n    document.body.removeChild(textArea)\r\n    return false\r\n  } else {\r\n    document.body.removeChild(textArea)\r\n    return true\r\n  }\r\n}\r\n","import React, { useRef, useState, useEffect } from 'react'\r\nimport { useRegulex } from 'hooks';\r\nimport { debugErr } from 'utils';\r\nimport { Typography, BoxProps, Box } from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  regexpContainer: {\r\n    width: \"100%\",\r\n    overflow: \"auto\",\r\n    textAlign: \"center\"\r\n  },\r\n  error: {\r\n    width: \"100%\",\r\n    color: \"red\",\r\n    overflow: \"auto\"\r\n  }\r\n}));\r\n\r\nexport type RegExpType = {\r\n  source: string;\r\n  flags: string;\r\n};\r\n\r\nexport type VisualRegExpProps = {\r\n  regexp: RegExpType\r\n} & BoxProps\r\n\r\nexport const VisualRegExp: React.FC<VisualRegExpProps> = ({ regexp, ...boxProps}) => {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const styles = useStyles();\r\n  const { value: regulex } = useRegulex();\r\n  const [error, setError] = useState<Error>();\r\n  useEffect(() => {\r\n    if (!regulex || !containerRef.current) return;\r\n\r\n    // 清除生成的图片\r\n    containerRef.current.innerHTML = \"\";\r\n\r\n    const { parse, visualize, Raphael } = regulex;\r\n    var paper = Raphael(containerRef.current, 0, 0);\r\n    try {\r\n      // 重新生成图片\r\n      visualize(parse(regexp.source), regexp.flags, paper);\r\n      // 重置错误\r\n      setError(undefined);\r\n    } catch (err) {\r\n      let _err = err;\r\n      // 如果是语法错误，格式化错误\r\n      if (err instanceof parse.RegexSyntaxError) {\r\n        var msg = [\"Error:\" + err.message, \"\"];\r\n        if (typeof err.lastIndex === \"number\") {\r\n          msg.push(regexp.source);\r\n          msg.push(\"-\".repeat(err.lastIndex) + \"^\");\r\n        }\r\n        _err = new Error(msg.join(\"\\n\"));\r\n      }\r\n      setError(_err);\r\n      debugErr(_err);\r\n    }\r\n  }, [regexp, regulex]);\r\n  return (\r\n    <Box {...boxProps}>\r\n      {error && (\r\n        <Typography className={styles.error} component=\"pre\">\r\n          <code>{error.message}</code>\r\n        </Typography>\r\n      )}\r\n      <div\r\n        ref={containerRef}\r\n        className={styles.regexpContainer}\r\n        style={{ height: error ? 0 : \"auto\" }}\r\n      />\r\n    </Box>\r\n  );\r\n};","import { useAsync } from \"react-use\";\n\nexport default function useRegulex() {\n  return useAsync(async () => {\n    return new Promise<any>((resolve, reject) => {\n      const script = document.createElement(\"script\");\n      script.src = process.env.PUBLIC_URL + \"/regulex.js\";\n      script.onload = () => {\n        const regulex = window.require(\"regulex\");\n        resolve(regulex);\n      };\n      script.onerror = () => {\n        reject(new Error(\"load regulex error!\"));\n      };\n      document.body.appendChild(script);\n    });\n  });\n}\n","import React from \"react\";\nimport Highlight, { defaultProps, Language } from \"prism-react-renderer\";\nimport githubTheme from \"prism-react-renderer/themes/github\";\nimport { Box } from \"@material-ui/core\";\n\nexport type CodeBlockProps = {\n  code?: string;\n  children?: string | string[]\n  language?: Language;\n};\n\nexport const CodeBlock: React.FC<CodeBlockProps> = ({ code = '', language = 'json',  children = '' }) => {\n  return (\n    <Highlight\n      {...defaultProps}\n      code={code || (Array.isArray(children) ? children.join('') : children)}\n      language={language}\n      theme={githubTheme}\n    >\n      {({ className, style, tokens, getLineProps, getTokenProps }) => (\n        <Box\n          component=\"pre\"\n          lineHeight={1.5}\n          py={1}\n          px={1}\n          className={className}\n          style={{...style, margin: 0}}\n        >\n          <Box component=\"code\">\n            {tokens.map((line, i) => (\n              <div {...getLineProps({ line, key: i })}>\n                {line.map((token, key) => (\n                  <span {...getTokenProps({ token, key })} />\n                ))}\n              </div>\n            ))}\n          </Box>\n        </Box>\n      )}\n    </Highlight>\n  );\n};\n","import React from \"react\";\r\nimport { Box, Tooltip, IconButton } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CopyToClipboard from \"react-copy-to-clipboard\";\r\nimport { FileCopyOutlined } from \"@material-ui/icons\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nexport type CopyActionProps = {\r\n  text: string\r\n};\r\n\r\nexport const CopyAction: React.FC<CopyActionProps> = ({text}) => {\r\n  const styles = useStyles();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  return (\r\n    <Box display=\"flex\" className={styles.root}>\r\n      <CopyToClipboard\r\n        text={text}\r\n        onCopy={() => enqueueSnackbar(\"已复制!\", { autoHideDuration: 1500 })}\r\n      >\r\n        <Tooltip title=\"复制\">\r\n          <IconButton>\r\n            <FileCopyOutlined />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </CopyToClipboard>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {},\r\n}));\r\n","import React from \"react\";\r\nimport { Tooltip, IconButton } from \"@material-ui/core\";\r\nimport { OpenInNew } from \"@material-ui/icons\";\r\n\r\nexport type OutLinkProps = {\r\n  href: string;\r\n  title?: Exclude<React.ReactNode, null | undefined>;\r\n};\r\n\r\nexport const OutLink: React.FC<OutLinkProps> = ({ href, title = \"\" }) => {\r\n  return (\r\n    <Tooltip title={title}>\r\n      <IconButton component=\"a\" href={href} target=\"_blank\">\r\n        <OpenInNew />\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n};\r\n","import React from 'react'\nimport {Box, Chip} from '@material-ui/core'\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nexport type RegExpChipsProps = {\n  onSelect?: (data: {source: string, flags: string}) => void\n}\n\nexport const RegExpChips: React.FC<RegExpChipsProps> = ({onSelect}) => {\n  const styles = useStyles()\n  return (\n    <Box display=\"flex\" flexWrap=\"wrap\" className={styles.tags}>\n      {REG_EXP_ARR.map(({ label, source }) => (\n        <Chip\n          key={label}\n          variant=\"outlined\"\n          label={label}\n          onClick={() => onSelect?.({ source, flags: \"\" })}\n        />\n      ))}\n    </Box>\n  );\n};\n\nconst useStyles = makeStyles(theme => ({\n  tags: {\n    \"& > *\": {\n      marginRight: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n  },\n}))\n\nconst REG_EXP_ARR = [\n  {\n    label: \"身份证号\",\n    source: /^(\\d{17}[0-9Xx]|\\d{15})$/.source,\n  },\n  {\n    label: \"Email地址\",\n    source: /^\\w[-\\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\\.)+[A-Za-z]{2,14}$/.source,\n  },\n  {\n    label: \"中文字符\",\n    source: /^[\\u4e00-\\u9fa5]+$/.source,\n  },\n  {\n    label: \"双字节字符(含汉字)\",\n    // eslint-disable-next-line no-control-regex\n    source: /^[^\\x00-\\xff]+$/.source,\n  },\n  {\n    label: \"时间(时:分:秒)\",\n    source: /^([01]?\\d|2[0-3]):[0-5]?\\d:[0-5]?\\d$/.source,\n  },\n  {\n    label: \"日期(年:月:日)\",\n    source: /^(([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29)$/\n      .source,\n  },\n  {\n    label: \"IPv4地址\",\n    source: /^\\d{0,3}\\.\\d{0,3}\\.\\d{0,3}\\.\\d{0,3}$/.source,\n  },\n  {\n    label: \"手机号\",\n    source: /^(13\\d|14[579]|15[^4\\D]|17[^49\\D]|18\\d)\\d{8}$/.source,\n  },\n];\n","import React, { useMemo, useState, useEffect } from 'react'\nimport { Box, TextField, Typography } from '@material-ui/core'\nimport { CodeBlock, CopyAction, OutLink } from 'components'\nimport { TQuote } from './types'\nimport { escapeStr, unescapeStr, escapeQuote } from 'utils'\n\nexport type RegExpTestPanelProps = {\n  source: string\n  flags?: string\n  quote: TQuote\n  escape: boolean\n}\n\nexport const RegExpTestPanel: React.FC<RegExpTestPanelProps> = ({\n  source,\n  flags,\n  quote,\n  escape,\n}) => {\n  const [text, setText] = useState('')\n  // const [text, setText] = useUnescapedText('')\n  const { code1, result1, error1, code2, result2, error2 } = useMemo(() => {\n    let regexp, result1, result2, error1, error2\n    // 从输入框中取到的值是已经转义过了的\n    const _text = escape ? text : unescapeStr(text)\n    try {\n      regexp = new RegExp(source, flags)\n      result1 = regexp.test(_text)\n      result2 = _text.search(regexp)\n    } catch (error) {\n      regexp = `/${source}/${flags}`\n      error1 = error2 = error as Error\n    }\n    // 无论构建正则是否抛出异常，源码都要正确显示\n    const escapedText = escapeQuote(escapeStr(_text), quote)\n    const code1 = `${regexp}.test(${quote}${escapedText}${quote})`\n    const code2 = `${quote}${escapedText}${quote}.search(${regexp})`\n    return { code1, result1, error1, code2, result2, error2 }\n  }, [flags, quote, source, text, escape])\n\n  // 输出到控制台\n  useEffect(() => {\n    console.log(code1)\n    console.log(result1)\n    console.log(code2)\n    console.log(result2)\n  }, [code1, code2, result1, result2])\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\">\n      <Box>\n        <TextField\n          variant=\"outlined\"\n          label=\"输入源文本\"\n          multiline\n          fullWidth\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n        />\n      </Box>\n      <Box overflow=\"auto\">\n        <Box\n          mt={2}\n          display=\"flex\"\n          alignItems=\"center\"\n          justifyContent=\"space-between\"\n          flexWrap=\"wrap\"\n          bgcolor=\"rgb(246, 248, 250)\"\n        >\n          <CodeBlock>{`RegExp.prototype.test()`}</CodeBlock>\n          <OutLink\n            title=\"RegExp.prototype.test() - MDN\"\n            href={\n              'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test'\n            }\n          />\n        </Box>\n        <Box mt={1} display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" bgcolor=\"rgb(246, 248, 250)\">\n          <Box flexGrow={1}>\n            <CodeBlock code={`${code1!}`} language=\"javascript\" />\n          </Box>\n          <Box display=\"flex\">\n            <CopyAction text={code1!} />\n          </Box>\n        </Box>\n        <Box>\n          {error1 ? (\n            <Typography color=\"error\">{String(error1)}</Typography>\n          ) : (\n            <CodeBlock code={'// returns\\n' + result1} language=\"javascript\" />\n          )}\n        </Box>\n\n        <Box\n          mt={2}\n          display=\"flex\"\n          alignItems=\"center\"\n          justifyContent=\"space-between\"\n          flexWrap=\"wrap\"\n          bgcolor=\"rgb(246, 248, 250)\"\n        >\n          <CodeBlock>{`String.prototype.search()`}</CodeBlock>\n          <OutLink\n            title=\"String.prototype.search() - MDN\"\n            href={\n              'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/search'\n            }\n          />\n        </Box>\n        <Box mt={1} display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" bgcolor=\"rgb(246, 248, 250)\">\n          <Box flexGrow={1}>\n            <CodeBlock code={`${code2!}`} language=\"javascript\" />\n          </Box>\n          <Box display=\"flex\">\n            <CopyAction text={code2!} />\n          </Box>\n        </Box>\n        <Box>\n          {error2 ? (\n            <Typography color=\"error\">{String(error2)}</Typography>\n          ) : (\n            <CodeBlock code={'// returns\\n' + result2} language=\"javascript\" />\n          )}\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n","  import React, { useMemo, useState, useEffect } from 'react'\r\n  import { Box, TextField, Typography } from '@material-ui/core'\r\n  import { CodeBlock, CopyAction, OutLink } from 'components'\r\n  import { TQuote } from './types'\r\n  import { escapeStr, unescapeStr, escapeQuote } from 'utils'\r\n\r\n  export type RegExpMatchPanelProps = {\r\n    source: string\r\n    flags?: string\r\n    quote: TQuote\r\n    escape: boolean\r\n  }\r\n\r\n  const supportMatchAll = 'matchAll' in String.prototype\r\n\r\n  export const RegExpMatchPanel: React.FC<RegExpMatchPanelProps> = ({ source, flags, quote, escape}) => {\r\n    const [text, setText] = useState('')\r\n    const { code1, result1, error1, code2, result2, error2, code3, result3, error3 } = useMemo(() => {\r\n      let regexp, result1, result2, result3, error1, error2, error3\r\n      // 从输入框中取到的值是已经转义过了的\r\n      const _text = escape ? text : unescapeStr(text)\r\n      try {\r\n        // 抛出异常情况：\r\n        // 1. 正则表达式不合法\r\n        regexp = new RegExp(source, flags)\r\n      } catch (error) {\r\n        regexp = (`/${source}/${flags}` as any) as RegExp\r\n        error1 = error2 = error3 = error as Error\r\n      }\r\n\r\n      if (!error1) {\r\n        result1 = regexp.exec(_text)\r\n        result2 = _text.match(regexp)\r\n        try {\r\n          // 抛出异常的情况：\r\n          // 1. 浏览器不支持 matchAll 时抛异常\r\n          // 2. 正则的 g 标志位未设置时抛异常\r\n          result3 = _text.matchAll(regexp)\r\n        } catch (error) {\r\n          error3 = error as Error\r\n        }\r\n      }\r\n      const escapedText = escapeQuote(escapeStr(_text), quote)\r\n    const code1 = `${regexp}.exec(${quote}${escapedText}${quote})`\r\n    const code2 = `${quote}${escapedText}${quote}.match(${regexp});`\r\n    const code3 = `${quote}${escapedText}${quote}.matchAll(${regexp});`\r\n\r\n    return { code1, result1, error1, code2, result2, error2, code3, result3, error3 }\r\n  }, [escape, flags, quote, source, text])\r\n\r\n  // 输出到控制台\r\n  useEffect(() => {\r\n    console.log(code1)\r\n    console.log(result1)\r\n    console.log(code2)\r\n    console.log(result2)\r\n    console.log(code3)\r\n    console.log(result3)\r\n  }, [code1, code2, code3, result1, result2, result3])\r\n\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"column\">\r\n      <Box>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"输入待匹配文本\"\r\n          multiline\r\n          fullWidth\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n        />\r\n      </Box>\r\n      <Box overflow=\"auto\">\r\n        <Box\r\n          mt={2}\r\n          display=\"flex\"\r\n          alignItems=\"center\"\r\n          justifyContent=\"space-between\"\r\n          flexWrap=\"wrap\"\r\n          bgcolor=\"rgb(246, 248, 250)\"\r\n        >\r\n          <CodeBlock>{`RegExp.prototype.exec()`}</CodeBlock>\r\n            <OutLink\r\n              title=\"RegExp.prototype.exec() - MDN\"\r\n              href={\r\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/exec'\r\n              }\r\n            />\r\n        </Box>\r\n        <Box mt={1} display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" bgcolor=\"rgb(246, 248, 250)\">\r\n          <Box flexGrow={1}>\r\n            <CodeBlock code={`${code1!}`} language=\"javascript\" />\r\n          </Box>\r\n          <Box display=\"flex\">\r\n            <CopyAction text={code1!} />\r\n          </Box>\r\n        </Box>\r\n        <Box>\r\n          {error1 ? (\r\n            <Typography color=\"error\">{String(error1)}</Typography>\r\n          ) : (\r\n            <CodeBlock\r\n              code={'// result\\n' + stringifyRegExpExecArray(result1)}\r\n              language=\"javascript\"\r\n            />\r\n          )}\r\n        </Box>\r\n\r\n        <Box\r\n          mt={2}\r\n          display=\"flex\"\r\n          alignItems=\"center\"\r\n          justifyContent=\"space-between\"\r\n          flexWrap=\"wrap\"\r\n          bgcolor=\"rgb(246, 248, 250)\"\r\n        >\r\n          <CodeBlock>{`String.prototype.match()`}</CodeBlock>\r\n            <OutLink\r\n              title=\"String.prototype.match() - MDN\"\r\n              href={\r\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match'\r\n              }\r\n            />\r\n        </Box>\r\n        <Box mt={1} display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" bgcolor=\"rgb(246, 248, 250)\">\r\n          <Box flexGrow={1}>\r\n            <CodeBlock code={`${code2!}`} language=\"javascript\" />\r\n          </Box>\r\n          <Box display=\"flex\">\r\n            <CopyAction text={code2!} />\r\n          </Box>\r\n        </Box>\r\n        <Box>\r\n          {error2 ? (\r\n            <Typography color=\"error\">{String(error2)}</Typography>\r\n          ) : (\r\n            <CodeBlock\r\n              code={ '// result\\n' + stringifyRegExpMatchArray(result2)}\r\n              language=\"javascript\"\r\n            />\r\n          )}\r\n        </Box>\r\n        {supportMatchAll && (\r\n          <>\r\n        <Box\r\n          mt={2}\r\n          display=\"flex\"\r\n          alignItems=\"center\"\r\n          justifyContent=\"space-between\"\r\n          flexWrap=\"wrap\"\r\n          bgcolor=\"rgb(246, 248, 250)\"\r\n        >\r\n          <CodeBlock>{`String.prototype.matchAll()`}</CodeBlock>\r\n                <OutLink\r\n                  title=\"String.prototype.matchAll() - MDN\"\r\n                  href={\r\n                    'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/matchAll'\r\n                  }\r\n                />\r\n        </Box>\r\n            <Box\r\n              mt={1}\r\n              display=\"flex\"\r\n              alignItems=\"center\"\r\n              flexWrap=\"wrap\"\r\n              bgcolor=\"rgb(246, 248, 250)\"\r\n            >\r\n              <Box flexGrow={1}>\r\n                <CodeBlock code={`${code3!}`} language=\"javascript\" />\r\n              </Box>\r\n              <Box display=\"flex\">\r\n                <CopyAction text={code3!} />\r\n              </Box>\r\n            </Box>\r\n            <Box>\r\n              {error3 ? (\r\n                <Typography color=\"error\">{String(error3)}</Typography>\r\n              ) : (\r\n                <CodeBlock code={stringifyRegExpMatchAllResult(result3!)} language=\"javascript\" />\r\n              )}\r\n            </Box>\r\n          </>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nfunction stringifyRegExpExecArray(result: RegExpExecArray | null | undefined): string {\r\n  if (!result) return JSON.stringify(result)\r\n  let str = '['\r\n  result.forEach((value, index) => (str += `\\n  ${index}: ${JSON.stringify(value)},`))\r\n  str += `\\n  index: ${JSON.stringify(result.index)}`\r\n  str += `\\n  input: ${JSON.stringify(result.input)}`\r\n  str += `\\n  groups: ${JSON.stringify(result.groups, null, 2)?.replace(/\\n/g, '\\n  ')},`\r\n  str += `\\n  length: ${JSON.stringify(result.length)}`\r\n  str += `\\n]`\r\n  return str\r\n}\r\n\r\nfunction stringifyRegExpMatchArray(result: RegExpMatchArray | null | undefined): string {\r\n  if (!result || 'index' in result) {\r\n    return stringifyRegExpExecArray(result as RegExpExecArray)\r\n  } else {\r\n    return JSON.stringify(result)\r\n  }\r\n}\r\n\r\nfunction stringifyRegExpMatchAllResult(result: IterableIterator<RegExpMatchArray>): string {\r\n  let str = ''\r\n  let item: IteratorResult<RegExpMatchArray, undefined>\r\n  do {\r\n    item = result.next()\r\n    str += `// result.next()\\n`\r\n    str += `{\r\n  value: ${stringifyRegExpMatchArray(item.value)?.replace(/\\n/g, '\\n  ')},\r\n  done: ${item.done}\r\n}\\n`\r\n  } while (!item.done)\r\n  return str\r\n}\r\n","import React, { useState, useMemo, useCallback } from 'react'\nimport PageLayout from 'layout/PageLayout'\nimport {\n  Select,\n  Input,\n  Box,\n  Tabs,\n  Tab,\n  useMediaQuery,\n  Checkbox,\n  FormControlLabel,\n  CardContent,\n  CardActions,\n  Card,\n  Collapse,\n  Button,\n  MenuItem,\n  IconButton,\n  Tooltip,\n  Popper,\n  RadioGroup,\n  Radio,\n  Paper,\n  FormLabel,\n  Switch,\n} from '@material-ui/core'\nimport { makeStyles, useTheme } from '@material-ui/core/styles'\nimport { useQuery } from 'hooks'\nimport { ExpandMore, Settings } from '@material-ui/icons'\nimport clsx from 'clsx'\nimport { VisualRegExp, RegExpType, CodeBlock, CopyAction, OutLink } from 'components'\nimport { RegExpChips } from './RegExpChips'\nimport { RegExpTestPanel } from './RegExpTestPanel'\nimport { RegExpMatchPanel } from './RegExpMatchPanel'\nimport { RegExpReplacePanel } from './RegExpReplacePanel'\nimport { TQuote } from './types'\n\ndeclare module '@material-ui/core/styles/createMuiTheme' {\n  interface Theme {\n    codeFontFamily: string\n  }\n}\n\nenum Language {\n  JavaScript = 'JavaScript',\n}\n\nenum TabIndex {\n  TEST,\n  MATCH,\n  REPLACE,\n  COMMONLY_USED_REGEXP,\n}\n\nconst useStyles = makeStyles((theme) => ({\n  regexpInput: {\n    fontSize: '1.4em',\n    fontFamily: theme.codeFontFamily,\n  },\n  code: {\n    fontFamily: theme.codeFontFamily,\n  },\n  tags: {\n    '& > *': {\n      marginRight: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n    },\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n}))\n\n\nconst TabPanel: React.FC<{ id: number; value: number }> = ({ children, id, value, ...props }) => {\n  return <Box {...props}>{id === value && <Box pt={3}>{children}</Box>}</Box>\n}\n\nconst flagItems = [\n  {\n    flag: 'g',\n    label: '全局匹配',\n  },\n  {\n    flag: 'i',\n    label: '忽略大小写',\n  },\n  {\n    flag: 'm',\n    label: '多行匹配',\n  },\n] as const\n\nconst useRegExp = () => {\n  const [query, setQuery] = useQuery()\n  const source = query.source || ''\n  const flags = query.flags || ''\n  const regexp: RegExpType = { source, flags }\n  const setRegExp = useCallback(\n    (regexp: RegExpType) => {\n      setQuery({ ...query, ...regexp })\n    },\n    [query, setQuery]\n  )\n  return [regexp, setRegExp] as const\n}\n\nconst useTabIndex = (defaultValue: number = TabIndex.TEST) => {\n  const [query, setQuery] = useQuery()\n  const tabIndex = parseInt(query.tab ?? defaultValue)\n  const setTabIndex = useCallback(\n    (tabIndex: number) => {\n      setQuery({ ...query, tab: String(tabIndex) })\n    },\n    [query, setQuery]\n  )\n  return [tabIndex, setTabIndex] as const\n}\n\nconst RegExpPage: React.FC = () => {\n  const styles = useStyles()\n  const [tabIndex, setTabIndex] = useTabIndex(TabIndex.TEST)\n  const [regexp, setRegexp] = useRegExp()\n  const [text] = useState('')\n  const [newText] = useState('')\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n  const theme = useTheme()\n  const matches = useMediaQuery(theme.breakpoints.down('sm'))\n  const [expanded, setExpanded] = useState(false)\n  const [language, setLanguage] = useState(Language.JavaScript)\n  const [quote, setQuote] = useState<TQuote>('`')\n  /**\n   * 是否转义，默认 false\n   * 为 false 时，输入'\\n'，程序取到的是'\\n'\n   * 为 true  时，输入'\\n'，程序取到的是'\\\\n'\n   */\n  const [escape, setEscape] = useState(false)\n\n  // 单个标志位变化\n  const onFlagChange = (flag: 'g' | 'i' | 'm', checked: boolean) => {\n    let newFlags = regexp.flags.replace(new RegExp(flag, 'g'), '')\n    newFlags += checked ? flag : ''\n    setRegexp({ ...regexp, flags: newFlags })\n  }\n\n  // 一组标志位变化\n  const onFlagsChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\n    let newFlags = e.target.value\n    // 去除无效标志位\n    newFlags = newFlags.replace(/[^gim]/, '')\n    // 去重\n    'gim'.split('').forEach((flag) => {\n      if (newFlags.includes(flag)) {\n        newFlags = newFlags.replace(new RegExp(flag, 'g'), '') + flag\n      }\n    })\n    setRegexp({ ...regexp, flags: newFlags })\n  }\n\n  const separator = (\n    <Box pt=\"6px\" pb=\"7px\" color=\"primary.main\">\n      /\n    </Box>\n  )\n\n  const code = useMemo(() => {\n    let code = ''\n    if (!expanded) return code\n    if (tabIndex === TabIndex.TEST) {\n      code = `const str = \"${text}\";\n/${regexp.source}/${regexp.flags}.test(str)`\n    } else if (tabIndex === TabIndex.MATCH) {\n      code = `const str = \"${text}\";\n/${regexp.source}/${regexp.flags}.exec(str)`\n    } else if (tabIndex === TabIndex.REPLACE) {\n      code = `const str = \"${text}\";\nstr.replace(/${regexp.source}/${regexp.flags}, \"${newText}\")`\n    }\n    return code\n  }, [expanded, newText, regexp, tabIndex, text])\n  return (\n    <PageLayout title=\"正则表达式\">\n      <Box display=\"flex\" flexDirection=\"column\">\n        <Box display=\"flex\">\n          <Box flexGrow={{ xs: 2, md: 4 }} flexBasis={0}>\n            <Input\n              className={styles.regexpInput}\n              startAdornment={separator}\n              placeholder=\"pattern\"\n              fullWidth\n              value={regexp.source}\n              onChange={(e) => setRegexp({ ...regexp, source: e.target.value })}\n            />\n          </Box>\n          <Box flexGrow={{ xs: 1, md: 1 }} flexBasis={0}>\n            <Input\n              className={styles.regexpInput}\n              startAdornment={separator}\n              placeholder=\"flags\"\n              fullWidth\n              value={regexp.flags}\n              onChange={onFlagsChange}\n            />\n          </Box>\n        </Box>\n\n        <Box display=\"flex\" mt={1} flexWrap=\"wrap\">\n          {flagItems.map((item) => (\n            <FormControlLabel\n              key={item.flag}\n              control={\n                <Checkbox\n                  checked={regexp.flags.includes(item.flag)}\n                  onChange={(_, checked) => onFlagChange(item.flag, checked)}\n                  color=\"primary\"\n                />\n              }\n              label={item.label}\n            />\n          ))}\n          <Box flexGrow={1} display=\"flex\" justifyContent=\"flex-end\" alignItems=\"center\" mr={1}>\n            <OutLink\n              title=\"RegExp - MDN\"\n              href={\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp'\n              }\n            />\n            <OutLink\n              title=\"Regular expressions - MDN\"\n              href={\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions'\n              }\n            />\n            <CopyAction text={`/${regexp.source}/${regexp.flags}`} />\n          </Box>\n        </Box>\n\n        <Box mt={1}>\n          <VisualRegExp regexp={regexp} />\n          {/* <Tooltip title=\"分享\" arrow placement=\"top\">\n            <CopyToClipboard\n              text={href || \"\"}\n              onCopy={() =>\n                enqueueSnackbar(\n                  <span>\n                    <a\n                      href={href}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      style={{ color: \"white\" }}\n                    >\n                      {href}\n                    </a>{\" \"}\n                    已复制，快去分享吧！\n                  </span>\n                )\n              }\n            >\n              <IconButton>\n                <Share />\n              </IconButton>\n            </CopyToClipboard>\n          </Tooltip> */}\n        </Box>\n\n        <Box mt={2}>\n          <Tabs\n            value={tabIndex}\n            onChange={(_, value) => value !== undefined && setTabIndex(value)}\n            textColor=\"primary\"\n            indicatorColor=\"primary\"\n            variant={matches ? 'fullWidth' : 'standard'}\n          >\n            <Tab label=\"测试\"></Tab>\n            <Tab label=\"匹配\"></Tab>\n            <Tab label=\"替换\"></Tab>\n            <Tab label=\"常用正则\"></Tab>\n            <Box>\n              <Tooltip title=\"设置\">\n                <IconButton onClick={(e) => setAnchorEl(anchorEl ? null : e.currentTarget)}>\n                  <Settings />\n                </IconButton>\n              </Tooltip>\n              <Popper open={!!anchorEl} anchorEl={anchorEl} placement=\"left-start\">\n                <Paper>\n                  <Box p={1}>\n                    <RadioGroup value={quote} onChange={(e, value) => setQuote(value as TQuote)}>\n                      <FormControlLabel value='\"' control={<Radio />} label='双引号(\")' />\n                      <FormControlLabel value=\"'\" control={<Radio />} label=\"单引号(')\" />\n                      <FormControlLabel value=\"`\" control={<Radio />} label=\"反引号(`)\" />\n                    </RadioGroup>\n                  </Box>\n                  <Box p={1}>\n                    <FormLabel>自动转义字符：</FormLabel>\n                    <FormControlLabel\n                      control={\n                        <Switch\n                          color=\"primary\"\n                          checked={escape}\n                          onChange={(_, checked) => setEscape(checked)}\n                        />\n                      }\n                      label={escape ? '是' : '否'}\n                    />\n                  </Box>\n                </Paper>\n              </Popper>\n            </Box>\n          </Tabs>\n          <TabPanel id={TabIndex.TEST} value={tabIndex}>\n            <RegExpTestPanel\n              source={regexp.source}\n              flags={regexp.flags}\n              quote={quote}\n              escape={escape}\n            />\n          </TabPanel>\n          <TabPanel id={TabIndex.MATCH} value={tabIndex}>\n            <RegExpMatchPanel source={regexp.source} flags={regexp.flags} quote={quote} escape={escape} />\n          </TabPanel>\n          <TabPanel id={TabIndex.REPLACE} value={tabIndex}>\n            <RegExpReplacePanel source={regexp.source} flags={regexp.flags} quote={quote} escape={escape}/>\n          </TabPanel>\n          <TabPanel id={TabIndex.COMMONLY_USED_REGEXP} value={tabIndex}>\n            <RegExpChips onSelect={(regexp) => setRegexp(regexp)} />\n          </TabPanel>\n        </Box>\n      </Box>\n\n      {/* 测试/匹配/替换 */}\n      <Box my={2} display=\"none\">\n        <Card>\n          <CardContent></CardContent>\n          <CardActions>\n            {expanded && (\n              <Box ml={1}>\n                <Select value={language} onChange={(e) => setLanguage(e.target.value as Language)}>\n                  <MenuItem value={Language.JavaScript}>JavaScript</MenuItem>\n                </Select>\n              </Box>\n            )}\n            <Button\n              style={{ marginLeft: 'auto' }}\n              endIcon={\n                <ExpandMore\n                  className={clsx(styles.expand, {\n                    [styles.expandOpen]: expanded,\n                  })}\n                />\n              }\n              onClick={() => setExpanded(!expanded)}\n            >\n              生成代码\n            </Button>\n          </CardActions>\n          {/* 生成代码 */}\n          <Collapse in={expanded}>\n            <CardContent>\n              <CodeBlock code={code} language=\"javascript\" />\n            </CardContent>\n            <CardActions>\n              <CopyAction text={code} />\n            </CardActions>\n          </Collapse>\n        </Card>\n      </Box>\n    </PageLayout>\n  )\n}\n\nexport default RegExpPage\n","import React, { useMemo, useState, useEffect, Fragment } from 'react'\nimport {\n  Box,\n  TextField,\n  Typography,\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody,\n  FormLabel,\n  FormControlLabel,\n  Switch,\n} from '@material-ui/core'\nimport { CodeBlock, CopyAction, OutLink } from 'components'\nimport { escapeStr, unescapeStr, escapeQuote } from 'utils'\nimport _ from 'lodash'\nimport { TQuote} from './types'\n\nexport type RegExpReplacePanelProps = {\n  source: string\n  flags?: string\n  quote: TQuote\n  escape: boolean\n}\n\nexport const RegExpReplacePanel: React.FC<RegExpReplacePanelProps> = ({\n  source,\n  flags,\n  quote,\n  escape,\n}) => {\n  const [text, setText] = useState('')\n  const [replacer, setReplacer] = useState('')\n  const [isReplacerInfoVisible, setIsReplacerInfoVisible] = useState(false)\n  const [isReplacerStr, setIsReplaceStr] = useState(true)\n  const _text = escape ? text : unescapeStr(text)\n  const { code1, result1, error1, matches } = useMemo(() => {\n    let regexp, result1, error1\n    // 从输入框中取到的值是已经转义过了的\n    let matches: RegExpExecArray[] = []\n    // String.prototype.replace() 的第二参数的字面值(显示给用户)\n    let replacerLiteral = ''\n    try {\n      regexp = new RegExp(source, flags)\n\n      // 搜集匹配结果\n      // 获取 String.prototype.replace(regexp, newStr) 中第二个参数可使用的特殊替换模式\n      // RegExp.prototype.exec 和 String.prototype.replace 执行结果的 match 对象一致，\n      // 使用 exec 的执行结果代表 replace 的结果\n      // $$ 表示\"$\"\n      // $& 表示匹配的子串\n      // $` 表示匹配的子串之前的部分\n      // $' 表示匹配的子串之后的部分\n      // $n 表示第 n 个捕获组，索引从 1 开始\n      // const matches: RegExpExecArray[] = []\n      if (regexp.global) {\n        let match\n        while ((match = regexp.exec(_text))) {\n          matches.push(match)\n        }\n      } else {\n        const match = regexp.exec(_text)\n        if (match) {\n          matches.push(match)\n        }\n      }\n\n      // String.prototype.replace() 的第二参数\n      let _replacer: string | Function = ''\n      if (isReplacerStr) {\n        replacerLiteral = `${quote}${escapeQuote(escapeStr(replacer), quote)}${quote}`\n        _replacer = escape ? replacer : unescapeStr(replacer)\n      } else {\n        const argsLiteral =\n          matches.length > 0\n            ? matches[0].filter((v, i) => i > 0).reduce((str, b, n) => str + `, p${n + 1}`, '')\n            : ''\n        const indent = (source: string) => source.replace(/(^|\\n)/g, '$&  ')\n        replacerLiteral = `function replacer(match${argsLiteral}, offset, input) {\\n${indent(\n          replacer\n        )}\\n}`\n        // eslint-disable-next-line no-new-func\n        _replacer = new Function(`return ${replacerLiteral}`)()\n      }\n      // 执行替换\n      result1 = _text.replace(regexp, _replacer as any)\n    } catch (error) {\n      console.error(error)\n      regexp = `/${source}/${flags}`\n      error1 = error as Error\n    }\n    // 无论构建正则是否抛出异常，源码都要正确显示\n    const code1 = `${quote}${escapeQuote(\n      escapeStr(_text),\n      quote\n    )}${quote}.replace(${regexp}, ${replacerLiteral})`\n    return { code1, result1, error1, matches }\n  }, [_text, escape, flags, isReplacerStr, quote, replacer, source])\n\n  // 输出到控制台\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      console.log('code1', code1)\n      console.log('result1', result1)\n      console.log('matches:', matches)\n    }\n  }, [code1, matches, result1])\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\">\n      <Box>\n        <TextField\n          variant=\"outlined\"\n          label=\"源字符串\"\n          multiline\n          fullWidth\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n        />\n      </Box>\n      <Box mt={1}>\n        <TextField\n          variant=\"outlined\"\n          label={isReplacerStr ? '替换子串' : '替换函数'}\n          placeholder={\n            isReplacerStr ? \"输入子串，支持 $$, $&, $`, $', $n 等特殊替换符\" : '输入替换函数的内容'\n          }\n          multiline\n          fullWidth\n          value={replacer}\n          onChange={(e) => setReplacer(e.target.value)}\n        />\n      </Box>\n      <Box mt={1} display=\"flex\" flexWrap=\"wrap\">\n        <Box>\n          <FormLabel>替换类型：</FormLabel>\n          <FormControlLabel\n            control={\n              <Switch\n                color=\"primary\"\n                checked={isReplacerStr}\n                onChange={(_, checked) => setIsReplaceStr(checked)}\n              />\n            }\n            label={isReplacerStr ? '字符串' : '函数'}\n          />\n        </Box>\n        <Box>\n          <FormLabel>替换信息：</FormLabel>\n          <FormControlLabel\n            control={\n              <Switch\n                color=\"primary\"\n                checked={isReplacerInfoVisible}\n                onChange={(_, checked) => setIsReplacerInfoVisible(checked)}\n              />\n            }\n            label={isReplacerInfoVisible ? '显示' : '隐藏'}\n          />\n        </Box>\n      </Box>\n      {isReplacerInfoVisible && (\n        <Box mt={1}>\n          {isReplacerStr ? (\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Replacer Patterns</TableCell>\n                  <TableCell>Inserts</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                <TableRow>\n                  <TableCell>\n                    <CodeBlock language=\"javascript\">\n                      {quote}$${quote}\n                    </CodeBlock>\n                  </TableCell>\n                  <TableCell>\n                    <CodeBlock language=\"javascript\">\n                      {quote}${quote}\n                    </CodeBlock>\n                  </TableCell>\n                </TableRow>\n                {matches\n                  .map((match) => {\n                    const result: Record<string, string> = {\n                      '$&': match[0],\n                      '$`': _text.substring(0, match.index),\n                      \"$'\": _text.substring(match.index + match[0].length),\n                    }\n                    for (let i = 1; i < match.length; ++i) {\n                      result['$' + i] = match[i]\n                    }\n                    return result\n                  })\n                  .map((patterns, i) => {\n                    return (\n                      <Fragment key={i}>\n                        <TableRow>\n                          <TableCell>\n                            <strong>Group #{i + 1}</strong>\n                          </TableCell>\n                          <TableCell></TableCell>\n                        </TableRow>\n                        {Object.keys(patterns).map((key) => (\n                          <TableRow key={key}>\n                            <TableCell>\n                              <CodeBlock language=\"javascript\">\n                                {quote + escapeQuote(key, quote) + quote}\n                              </CodeBlock>\n                            </TableCell>\n                            <TableCell>\n                              <CodeBlock language=\"javascript\">\n                                {quote + escapeQuote(escapeStr(patterns[key]), quote) + quote}\n                              </CodeBlock>\n                            </TableCell>\n                          </TableRow>\n                        ))}\n                      </Fragment>\n                    )\n                  })}\n              </TableBody>\n            </Table>\n          ) : (\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Replacer Parameters</TableCell>\n                  <TableCell>Values</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {matches\n                  .map((match) => {\n                    const result: Record<string, string | number> = {}\n                    result['match'] = match[0]\n                    for (let i = 1; i < match.length; ++i) {\n                      result['p' + i] = match[i]\n                    }\n                    result['offset'] = match.index\n                    result['input'] = match.input\n                    return result\n                  })\n                  .map((record, i) => {\n                    return (\n                      <Fragment key={i}>\n                        <TableRow>\n                          <TableCell>\n                            <strong>Group #{i + 1}</strong>\n                          </TableCell>\n                          <TableCell></TableCell>\n                        </TableRow>\n                        {_.map(record, (value, key) => (\n                          <TableRow key={key}>\n                            <TableCell>\n                              <CodeBlock language=\"javascript\">\n                                {key}\n                              </CodeBlock>\n                            </TableCell>\n                            <TableCell>\n                              <CodeBlock language=\"javascript\">\n                                {_.isNumber(value)\n                                  ? String(value)\n                                  : quote + escapeQuote(escapeStr(value), quote) + quote}\n                              </CodeBlock>\n                            </TableCell>\n                          </TableRow>\n                        ))}\n                      </Fragment>\n                    )\n                  })}\n              </TableBody>\n            </Table>\n          )}\n        </Box>\n      )}\n      <Box overflow=\"auto\">\n        <Box\n          mt={2}\n          display=\"flex\"\n          alignItems=\"center\"\n          justifyContent=\"space-between\"\n          flexWrap=\"wrap\"\n          bgcolor=\"rgb(246, 248, 250)\"\n        >\n          <CodeBlock>{`String.prototype.replace()`}</CodeBlock>\n            <OutLink\n              title=\"RegExp.prototype.replace() - MDN\"\n              href={\n                'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace'\n              }\n            />\n        </Box>\n        <Box mt={1} display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\" bgcolor=\"rgb(246, 248, 250)\">\n          <Box flexGrow={1}>\n            <CodeBlock code={code1!} language=\"javascript\" />\n          </Box>\n          <Box display=\"flex\">\n            <CopyAction text={code1!} />\n          </Box>\n        </Box>\n        <Box>\n          {error1 ? (\n            <Typography color=\"error\">{String(error1)}</Typography>\n          ) : (\n            <CodeBlock\n              code={`// --- output ---\\n${quote}${escapeQuote(escapeStr(result1!), quote)}${quote}`}\n              language=\"javascript\"\n            />\n          )}\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n"],"sourceRoot":""}